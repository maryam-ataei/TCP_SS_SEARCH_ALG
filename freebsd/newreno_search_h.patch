--- cc_newreno.h	2025-12-03 15:33:55.875586103 -0500
+++ cc_newreno_search.h	2025-12-04 11:31:43.055934432 -0500
@@ -26,8 +26,30 @@
 
 #ifndef _CC_NEWRENO_H
 #define _CC_NEWRENO_H
+ 
+/* SEARCH_begin */
+#define CCALGONAME_NEWRENO "newreno_search"
+ 
+typedef uint16_t search_bin_t;
+ 
+#define V_use_search 1
+#define V_use_hystartpp 0
 
-#define CCALGONAME_NEWRENO "newreno"
+#define V_CWND_ROLLBACK 0
+#define MAX_US_INT 0xffff
+#define SEARCH_WINDOW_SIZE_FACTOR 35
+#define SEARCH_BINS 10
+#define SEARCH_EXTRA_BINS 15
+#define SEARCH_TOTAL_BINS (SEARCH_BINS + SEARCH_EXTRA_BINS)
+#define SEARCH_THRESH 35
+#define SEARCH_ALPHA MAX_US_INT
+
+enum unset_bin_duration {
+	RESET_BIN_DURATION_TRUE,		// Reset bin duration
+	RESET_BIN_DURATION_FALSE		// Do not reset bin duration
+};
+ 
+/* SEARCH_end */
 
 struct newreno {
 	uint32_t beta;
@@ -42,7 +64,19 @@
 	uint32_t css_fas_at_css_entry;
 	uint32_t css_lowrtt_fas;
 	uint32_t css_last_fas;
+ 
+	/* SEARCH_begin */
+	uint32_t last_rtt_sample;					/* Most recent RTT sample (in microseconds) from rttsample() */
+	uint32_t search_bin_duration_us;			/* duration of each bin in microsecond */
+	int32_t  search_curr_idx;					/* total number of bins */
+	uint64_t search_bin_end_us;					/* end time of the latest bin in microsecond */
+	search_bin_t search_bin[SEARCH_TOTAL_BINS];	/* array to keep bytes for bins */
+	uint8_t search_scale_factor;				/* scale factor to fit the value with bin size */
+	uint32_t search_bytes_curr_bin;				/* bytes_acked during this bin*/
 };
+ 
+#define SEARCH_BIN(ccv, index) ((struct newreno*)(ccv)->cc_data)->search_bin[(index) % SEARCH_TOTAL_BINS]
+/* SEARCH_end */
 
 struct cc_newreno_opts {
 	int		name;
